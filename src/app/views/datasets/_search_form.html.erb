<div class="container mt-3">
  <div class='row justify-content-md-center'>
    <div class='col-md-7  mb-2'>
      <div class="input-group btn-group" role="group" aria-label="Search">
       <%= text_field_tag 'dataset_free_text', session[:d_settings][:free_text] || '', {:size => 30, :class => "form-control", :placeholder => "Search"} %>
        <div id='dataset_autocomplete_container'></div>
        <button id='dataset_search-btn' type="button" class="btn btn-primary"><i class="fas fa-search"></i> Search</button>
      </div>
    </div>
  </div>
</div>


<div id='filters'>
  <b>Filters</b>
  <div id='filter_fields_waiting' class="">
<!--    <i class='fa fa-spinner fa-spin fa-2x'></i> Loading ...-->
  </div>
  <div id='filter_fields_container' class="row row-cols-1 row-cols-md-4 hidden">
  <% @fields.each do |field_name, h_field| %>
  <% if !@fields_without_autocomplete_filter.include? field_name %>
  <div class="col mb-4">
    <div class='card'>
      <div class='card-body'>
	<%= text_field_tag "filter_" + field_name.to_s, '', {:size => 30, :class => "filter_field form-control", :placeholder => h_field[:label].to_s} %>
	<div id="filter_<%= field_name %>_autocomplete_container"></div>
      </div>
    </div>
  </div>
  <% end %>
  <% end %>
  </div>
</div>

<%= javascript_tag do %>



<% end %>
